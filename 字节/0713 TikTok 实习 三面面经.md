# 抖音实习三面面经

## 2021.07.06 一面

一面没有录面试官的声音只有我的声音，具体什么题目只能根据我的回答猜，不够准确。

+ 自我介绍
+ 简历写了数模比赛，问了我两个数模相关的问题。这是春招到现在几十场面试第一个问数模的面试官，可能因为我只是北京市一的奖吧。
+ 进程 线程 协程
    +   左耳朵耗子 酷壳 协程库 C
    +   协程 管道通信 chanel
    +   协程 用户态线程
    +   线程 操作系统、内核态线程
    +   进程和协程的区别
+ 进程如何组织的
    + 进程表索引
    + 挂起状态 放在硬盘里
    + 链表组织
    + 中期调度
    + 长期调度
    + 短期调度
+ LRU
    + 
+ 快排的复杂度，最好，最坏的情况下
    + 有序和逆序的情况下快排复杂度如何，为什么
        + O(n^2)
+ 什么时候是快排最好的情况
    + 刚好对半分
+ 如何给单向链表排序
    + 使用哈希存储节点让链表支持随机访问，再使用快排 O(nlogn) 空间O(n)
    + 使用冒泡 时间O(n^2) 空间O(1)
    + 面试官提醒我使用归并
    + 我想了一下归并的确可以 时间O(nlongn) 空间O(1)因为不需要辅助数组了
    + 快排直接使用是可以的
    + 归并有最好情况 最坏情况吗 为什么
+ 合并n个有序链表
    + 遍历头节点，取最小的
    + 使用堆来优化
+ **[手撕代码]** 实现无序链表的归并排序

## 2021.07.07 二面

+ 自我介绍
+ Linux创建tcp连接的方式（socket()，connect()，accept()）
+ 服务端处理请求的方式
    + io 多路复用 （select poll epoll）、
    + aioread aiowrite
    + rpc 的 io 模型
+ select poll epoll的区别
    + 我最后加了句IO多路复用适用于低频率大量的连接
+ 低频率什么意思
    + 连接不活跃
    + 同一时刻只有少量连接有数据需要处理
+ 为什么高频率不适用epoll
    + select适用于少量高频率
    + 高频率 多线程 多协程
    + 高频率不能一个线程监听大量socket
+ 为什么三次握手
    + rfc793 tcp文档
    + 避免历史连接造成的错误重复初始化
    + 保证双方能力正常
    + 同步序号
+ SYN洪泛攻击的概念和如何防范
    + cookie
    + 半连接
+ 线程和协程
+ 用户态和内核态
    + 权限
    + 访问空间
+ 怎么从用户态进入内核态
    + 系统调用（详细过程）
    + 硬中断
    + 软中断 异常 故障 陷阱trap
+ 计算机用的哪个机制实现内核态和用户态的区别
    + 不会，我说容器隔离用的namespces和cgroups，可能内核态用户态也用的这个
    + 权限级
+ 胡吹项目
+ 大文件的字符串排序（不能一次加载到内存里）
    + 根据字母划分进桶，桶排序
+ 栈和队列的区别
    + 我听成了栈和堆，问题不大
    + 先进先出
    + 先进后出
+ **[手撕代码]** 用队列实现栈

## 2021.07.09 三面

+ 自我介绍

<u>我看你的简历没什么项目，所以我可能问你基础相对多一点</u>

+ UDP和TCP的区别
    + 先讲了教科书上的理论
    + 我的理解：UDP与TCP协议都是传输层协议。传输层协议有一个不可能三角，实时性、可靠性、公平性不能全得。UDP和TCP的区别其实只是这个三角的取舍。UDP做到了实时性的极致。TCP做到了可靠性和公平性。。。。。。
+ TCP如何保证可靠性
    + 拥戴控制
    + 超时重传
    + 流量控制
    + CRC UDP也有
+ 重传有一个超时时间。超时时间过长或者过短有什么影响？
    + 超时时间过长造成资源浪费
    + 超时时间过短造成大量历史报文，使连接混乱
+ 为什么设置2msl
+ 为什么刚好是2msl，不是1msl、1.5msl、3msl
    + 使所有历史报文消失
    + 两次fin之间的时间差
    + 经验值
    + max segment lifetime
+ TCP滑动窗口
    + 接收窗口
    + **缓冲区如何实现**
    + 拥塞窗口
+ 发送方连续发1 2 3三个消息，ACK如何返回
    + TCP累计确认
    + 较短时间内到达，返回3代表3和3之前的都受到了
    + 到达时间间隔比较久，会返回三个ack 1 2 3
        + 为什么三个？
        + 四太多，
        + 二太少，太容易发生
+ 浏览器输入URL，会发生什么
    + 
+ 负载均衡
    + 七层负载均衡
    + 四层负载均衡
+ 服务器内部的服务，你了解微服务吗
+ HTPP1.0 2.0 3.0版本演变
+ HTTPS
+ cookie 和 session
    + **token是什么**
+ 服务器如何区别用户
+ 段页式和分段分页的区别
    + 段页式是为了兼容
    + 分页是目前常用
    + 内存
+ 物理内存和虚拟内存
    + 
+ 虚拟内存有啥优势
    + 抽象 统一的内存机制
    + 保护 保护内存
    + 虚拟 虚拟内存超过物理内存
    + 封装 应用程序不用考虑内存机制
+ **一块内存不在物理内存里面，使用这个程序的时候会发生什么**
    + **加载到物理内存里**
+ LRU的概念和实现和各种操作的复杂度
+ LFU如何实现
    + 双向链表+map
+ LFU各种操作的复杂度
    + 插入复杂度 O(n) ，可能有很多个与他访问次数相同
+ 如何优化LFU的插入到O(1)
    + 每个节点内部增加两个指针指向同等访问次数的节点边界  实现复杂
    + 把相同访问次数的打包放到一个桶里
+ fork()具体做什么，父子进程间的关系
+ etcd 分布式 key value 数据库
+ 虚拟机和容器的区别（我简历写了容器技术）
+ Docker 如何实现隔离
+ Docker image和layer的区别
+ Docekr 有哪些网络模式
+ **[手撕代码]** LRU

<u>发现你偏课本的知识了解的还可以，但是偏向于应用层面的能力就比 较差这是为什么？</u>
